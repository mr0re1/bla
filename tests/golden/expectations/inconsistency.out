----- step #0:
 def client():            | def server():         | A_set=False
 ->  A_set = True         | ->  while True:       | A_get=False
     assert A_get == True |         A_get = A_set |


----- step #1:
 def client():            | def server():         | A_set=False
 ->  A_set = True         |     while True:       | A_get=False
     assert A_get == True | ->      A_get = A_set |


----- step #2:
 def client():            | def server():         | A_set=False
 ->  A_set = True         | ->  while True:       | A_get=False
     assert A_get == True |         A_get = A_set |


----- step #3:
 def client():            | def server():         | A_set=True
     A_set = True         | ->  while True:       | A_get=False
 ->  assert A_get == True |         A_get = A_set |


Assertion failed: assert A_get == True
